package com.example.john.myapplication.activity;import android.database.sqlite.SQLiteOpenHelper;import android.os.Bundle;import android.support.design.widget.TabLayout;import android.support.v4.app.Fragment;import android.support.v4.app.FragmentStatePagerAdapter;import android.support.v4.view.PagerAdapter;import android.support.v4.view.ViewPager;import android.support.v7.app.AppCompatActivity;import com.example.john.myapplication.db.MyDatabaseHelper;import com.example.john.myapplication.fragment.FirstFragment;import com.example.john.myapplication.fragment.SecondFragment;import com.example.john.myapplication.fragment.ThirdFragment;import java.util.ArrayList;import java.util.List;public class MainActivity extends AppCompatActivity {    private PagerAdapter pagerAdapter;    private  ViewPager viewPager;    private int[] images = new int[]{R.mipmap.popo1, R.mipmap.heart1, R.mipmap.user1, R.mipmap.popo2, R.mipmap.heart2, R.mipmap.user2};    private TabLayout tabLayout;    private SQLiteOpenHelper sqLiteOpenHelper ;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        initData();        initView();        initTabLayout();        initDB();    }    private void initData(){        final List<Fragment> fragments = new ArrayList<Fragment>();        Fragment fragment1 = new FirstFragment();        Fragment fragment2 = new SecondFragment();        Fragment fragment3 = new ThirdFragment();        fragments.add(fragment1);        fragments.add(fragment2);        fragments.add(fragment3);        pagerAdapter = new FragmentStatePagerAdapter(getSupportFragmentManager()) {            @Override            public Fragment getItem(int position) {                return fragments.get(position);            }            @Override            public int getCount() {                return fragments.size();            }            @Override            public CharSequence getPageTitle(int position) {                return "";            }        };    }    private void initView(){        viewPager = (ViewPager) findViewById(R.id.viewpager);        viewPager.setAdapter(pagerAdapter);    }    private void initTabLayout(){        tabLayout = (TabLayout) findViewById(R.id.tablayout);        tabLayout.setupWithViewPager(viewPager);        tabLayout.getTabAt(0).setIcon(images[3]);        tabLayout.getTabAt(1).setIcon(images[1]);        tabLayout.getTabAt(2).setIcon(images[2]);        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener(){            @Override            public void onTabSelected(TabLayout.Tab tab) {                if(tab == tabLayout.getTabAt(0)){                    tabLayout.getTabAt(0).setIcon(images[3]);                    viewPager.setCurrentItem(0);                }else if(tab == tabLayout.getTabAt(1)){                    tabLayout.getTabAt(1).setIcon(images[4]);                    viewPager.setCurrentItem(1);                }else if(tab == tabLayout.getTabAt(2)){                    tabLayout.getTabAt(2).setIcon(images[5]);                    viewPager.setCurrentItem(2);                }            }            @Override            public void onTabUnselected(TabLayout.Tab tab) {                if(tab == tabLayout.getTabAt(0)){                    tabLayout.getTabAt(0).setIcon(images[0]);                }else if(tab == tabLayout.getTabAt(1)){                    tabLayout.getTabAt(1).setIcon(images[1]);                }else if(tab == tabLayout.getTabAt(2)){                    tabLayout.getTabAt(2).setIcon(images[2]);                }            }            @Override            public void onTabReselected(TabLayout.Tab tab) {            }        });    }    private void initDB(){        sqLiteOpenHelper = new MyDatabaseHelper(this, "SugarStore.db", null, 1);        sqLiteOpenHelper.getWritableDatabase();    }}